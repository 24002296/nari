<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>

<form id="forgotForm">
    <h3>BERLIN ENTERPRISE</h3>

    <div class="main">
        <div class="topic">
            <h2>Forgot Password</h2>
        </div>

        <div class="sub">
            <p>Enter your email address</p>
        </div>

        <div class="box1">
            <input id="email" class="email" type="email" placeholder="Enter email address" required>
            <br>
            <button class="continue" type="submit">Continue</button>
        </div>
    </div>

</form>

<script>
const API_BASE = "https://nari-15.onrender.com/api";

document.getElementById("forgotForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();

    if (!email) {
        alert("Please enter your email");
        return;
    }

    try {
        const res = await fetch(`${API_BASE}/forgot-password`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ email })
        });

        const data = await res.json();

        if (!res.ok) {
            alert(data.message || "Failed to send reset email");
            return;
        }

        alert("Password reset link sent to your email ðŸ“§");
        window.location.href = "index.html";

    } catch (err) {
        alert("Server error. Please try again later.");
        console.error(err);
    }
});
</script>

</body>


</html>
